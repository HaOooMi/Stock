# 股票量化交易系统 - 数据结构文档

> 更新日期: 2025-11-05  
> 版本: v2.0

---

## 目录

1. [系统架构概览](#系统架构概览)
2. [数据库结构](#数据库结构)
3. [文件系统结构](#文件系统结构)
4. [数据流转流程](#数据流转流程)
5. [核心数据格式](#核心数据格式)
6. [PIT数据对齐原则](#pit数据对齐原则)

---

## 1. 系统架构概览

```
┌─────────────────────────────────────────────────────────────┐
│                     数据采集层                                │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │   AkShare    │  │   Tushare    │  │  其他数据源   │      │
│  │   (免费)     │  │   (付费)     │  │              │      │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘      │
│         │                 │                 │               │
└─────────┼─────────────────┼─────────────────┼───────────────┘
          │                 │                 │
          ▼                 ▼                 ▼
┌─────────────────────────────────────────────────────────────┐
│                     数据存储层                                │
│  ┌──────────────────────┐  ┌──────────────────────┐        │
│  │   InfluxDB (时序)     │  │   MySQL (关系型)      │        │
│  ├──────────────────────┤  ├──────────────────────┤        │
│  │ • 历史K线数据         │  │ • 股票基础信息        │        │
│  │ • 实时行情数据         │  │ • 财务报表数据        │        │
│  │ • 技术指标            │  │ • 元数据信息          │        │
│  └──────────────────────┘  └──────────────────────┘        │
└─────────────────────────────────────────────────────────────┘
          │                            │
          └────────────┬───────────────┘
                       ▼
┌─────────────────────────────────────────────────────────────┐
│                   数据处理层                                  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │        MarketDataLoader (市场数据加载器)              │   │
│  │  • 从 InfluxDB 加载 OHLCV 数据                       │   │
│  │  • 从 MySQL 加载元数据（ST、上市时间、总股本）          │   │
│  │  • 合并并清洗数据                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │       FinancialDataLoader (财务数据加载器)            │   │
│  │  • 从 MySQL 加载财务报表                             │   │
│  │  • PIT 对齐（公告日期 + 滞后天数）                    │   │
│  │  • 计算财务特征                                       │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │       TradabilityFilter (交易可行性过滤器)            │   │
│  │  7层过滤顺序:                                         │   │
│  │  1. ST/退市  2. 停牌  3. 涨跌停  4. 上市龄           │   │
│  │  5. 成交量   6. 价格  7. 换手率                      │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │         PITDataAligner (PIT数据对齐器)               │   │
│  │  • 财务数据按公告日+滞后生效                           │   │
│  │  • 验证无未来信息泄漏                                  │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────────────────────┐
│                   机器学习层                                  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           DataLoader (统一数据加载器)                 │   │
│  │  • 集成所有数据源                                      │   │
│  │  • 创建数据快照                                        │   │
│  │  • 质量检查报告                                        │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              特征工程 & 模型训练                       │   │
│  │  • 技术指标计算                                        │   │
│  │  • 财务特征工程                                        │   │
│  │  • 模型训练与评估                                      │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. 数据库结构

### 2.1 InfluxDB (时序数据库)

**组织信息:**
- URL: `http://localhost:8086`
- Organization: `stock`
- Bucket: `stock_kdata`

**Measurement 1: `history_kdata` (历史K线)**

| Tag Key | Tag Value | 说明 |
|---------|-----------|------|
| 股票代码 | 000001, 600000... | 股票代码 |
| 股票名称 | 平安银行, 浦发银行... | 股票名称 |

| Field Key | Type | 单位 | 说明 |
|-----------|------|------|------|
| 开盘 | float | 元 | 开盘价 |
| 收盘 | float | 元 | 收盘价 |
| 最高 | float | 元 | 最高价 |
| 最低 | float | 元 | 最低价 |
| 成交量 | int | 手 | 成交量 |
| 成交额 | float | 元 | 成交额 |
| 振幅 | float | % | 振幅 |
| 涨跌幅 | float | % | 涨跌幅 |
| 涨跌额 | float | 元 | 涨跌额 |
| 换手率 | float | % | 换手率 |
| **是否停牌** | int | 0/1 | **停牌标志 (新增)** |

**Measurement 2: `now_kdata` (实时行情)**

| Field Key | Type | 说明 |
|-----------|------|------|
| 最新价 | float | 最新价格 |
| 涨跌幅(%) | float | 涨跌幅 |
| 成交量(手) | int | 成交量 |
| 成交额(元) | float | 成交额 |
| 市盈率-动态 | float | 市盈率 |
| 市净率 | float | 市净率 |
| 总市值(元) | float | 总市值 |
| 流通市值(元) | float | 流通市值 |
| **是否停牌** | int | **停牌标志 (新增)** |

---

### 2.2 MySQL (关系型数据库)

**数据库名:** `stock_meta`

#### 表1: `stock_individual_info` (股票基础信息)

| 列名 | 类型 | 约束 | 说明 |
|------|------|------|------|
| 股票代码 | VARCHAR(10) | PRIMARY KEY | 股票代码 |
| 股票简称 | VARCHAR(50) | | 股票简称 |
| 总股本 | BIGINT | | 总股本(股) |
| 流通股 | BIGINT | | 流通股(股) |
| 总市值 | DECIMAL(20,2) | | 总市值(元) |
| 流通市值 | DECIMAL(20,2) | | 流通市值(元) |
| 所属行业 | VARCHAR(50) | | 所属行业 |
| 上市时间 | DATE | | 上市日期 |

**用途:**
- 判断ST股票（通过股票简称）
- 计算换手率（总股本）
- 上市龄过滤（上市时间）

---

#### 表2: `stock_financial_data` (财务报表数据)

**优化后的结构 (v2.0):**

| 列名 | 类型 | 约束 | 说明 |
|------|------|------|------|
| 股票代码 | VARCHAR(10) | PRIMARY KEY (1/2) | 股票代码 |
| 报告期 | DATE | PRIMARY KEY (2/2) | 财报报告期 |
| **公告日期** | DATE | INDEX | **真实公告日期 (v2.0新增)** |

**利润相关指标:**

| 列名 | 类型 | 说明 |
|------|------|------|
| 净利润 | DOUBLE | 净利润(元) |
| 净利润同比增长率 | DOUBLE | 小数形式(如0.15=15%) |
| 扣非净利润 | DOUBLE | 扣除非经常性损益净利润 |
| 扣非净利润同比增长率 | DOUBLE | 小数形式 |

**营收相关指标:**

| 列名 | 类型 | 说明 |
|------|------|------|
| 营业总收入 | DOUBLE | 营业总收入(元) |
| 营业总收入同比增长率 | DOUBLE | 小数形式 |

**每股指标:**

| 列名 | 类型 | 说明 |
|------|------|------|
| 基本每股收益 | DOUBLE | EPS (元/股) |
| 每股净资产 | DOUBLE | BPS (元/股) |
| 每股资本公积金 | DOUBLE | 元/股 |
| 每股未分配利润 | DOUBLE | 元/股 |
| 每股经营现金流 | DOUBLE | 元/股 |

**盈利能力指标:**

| 列名 | 类型 | 说明 |
|------|------|------|
| 销售净利率 | DOUBLE | 小数形式 |
| 净资产收益率 | DOUBLE | ROE，小数形式 |
| 净资产收益率_摊薄 | DOUBLE | ROE摊薄，小数形式 |

**运营能力指标:**

| 列名 | 类型 | 说明 |
|------|------|------|
| 营业周期 | DOUBLE | 天数 |
| 应收账款周转天数 | DOUBLE | 天数 |

**偿债能力指标:**

| 列名 | 类型 | 说明 |
|------|------|------|
| 流动比率 | DOUBLE | 比率 |
| 速动比率 | DOUBLE | 比率 |
| 保守速动比率 | DOUBLE | 比率 |
| 产权比率 | DOUBLE | 比率 |
| 资产负债率 | DOUBLE | 小数形式 |

**索引:**
```sql
PRIMARY KEY (股票代码, 报告期)
INDEX idx_announcement_date (公告日期)
INDEX idx_stock_code (股票代码)
```

---

## 3. 文件系统结构

### 3.1 项目根目录

```
stock/
├── get_stock_info/              # 数据采集模块
│   ├── main.py                  # 主入口
│   ├── utils.py                 # 工具函数
│   ├── stock_meta_akshare.py    # AkShare元数据采集
│   ├── stock_market_data_akshare.py  # AkShare行情采集
│   └── stock_meta_tushare.py    # Tushare数据采集
│
├── machine learning/            # 机器学习模块
│   ├── data/                    # 数据加载器
│   │   ├── data_loader.py       # 统一数据加载器
│   │   ├── market_data_loader.py  # 市场数据加载器
│   │   ├── financial_data_loader.py  # 财务数据加载器
│   │   ├── tradability_filter.py  # 交易可行性过滤器
│   │   ├── pit_aligner.py       # PIT数据对齐器
│   │   └── data_snapshot.py     # 数据快照管理器
│   │
│   ├── features/                # 特征工程
│   ├── models/                  # 模型定义
│   ├── evaluation/              # 评估模块
│   ├── backtest/                # 回测模块
│   └── pipelines/               # 数据流水线
│
└── ML output/                   # 输出目录
    ├── datasets/                # 数据集
    │   └── baseline_v1/
    │       ├── with_targets_<code>_complete_<timestamp>.csv
    │       ├── snapshots/       # 数据快照
    │       └── reports/         # 数据质量报告
    ├── scalers/                 # 标准化器
    │   └── baseline_v1/
    │       ├── scaler_<code>.pkl
    │       ├── scaler_<code>_meta.json
    │       └── scaler_<code>_scaled_features.csv
    ├── models/                  # 训练好的模型
    ├── predictions/             # 预测结果
    ├── reports/                 # 评估报告
    └── figures/                 # 可视化图表
```

---

### 3.2 核心数据文件格式

#### 3.2.1 原始数据文件

**文件:** `with_targets_<code>_complete_<timestamp>.csv`

**格式:** CSV，索引为日期

**列结构:**

| 列名 | 类型 | 说明 |
|------|------|------|
| date (索引) | datetime | 交易日期 |
| open | float | 开盘价 |
| high | float | 最高价 |
| low | float | 最低价 |
| close | float | 收盘价 |
| volume | float | 成交量 |
| amount | float | 成交额 |
| pct_change | float | 涨跌幅 |
| turnover | float | 换手率 |
| ... (技术指标) | float | 各类技术指标 |
| future_return_1d | float | 未来1日收益率 |
| future_return_5d | float | 未来5日收益率 |
| label_up | int | 涨跌标签 |

---

#### 3.2.2 标准化特征文件

**文件:** `scaler_<code>_scaled_features.csv`

**格式:** CSV，索引为日期

**特点:**
- 所有特征已经过标准化（均值0，标准差1）
- 排除了目标变量和标签
- 保留了原始日期索引

---

#### 3.2.3 快照元数据文件

**文件:** `snapshots/<snapshot_id>/metadata.json`

**格式:** JSON

**内容示例:**
```json
{
  "snapshot_id": "ds_2025Q4_v1",
  "created_at": "2025-11-05T10:30:00",
  "version": "1.0",
  "symbol": "000001",
  "start_date": "2022-01-01",
  "end_date": "2024-12-31",
  "n_samples": 730,
  "n_features": 45,
  "filters": {
    "min_volume": 1000000,
    "min_price": 1.0,
    "exclude_st": true
  },
  "random_seed": 42,
  "data_hash": "a1b2c3d4e5f6...",
  "quality_checks": {
    "overall_quality": "PASS",
    "red_flags_count": 0
  }
}
```

---

## 4. 数据流转流程

### 4.1 数据采集流程

```
┌──────────────┐
│  AkShare API │
└──────┬───────┘
       │
       ▼
┌────────────────────────────────────┐
│ 1. fetch_stock_basic_data()       │ ← 基础信息
│    • 股票代码、名称、行业          │
│    • 总股本、流通股               │
│    • 上市时间                     │
└────────┬───────────────────────────┘
         │ INSERT/UPDATE
         ▼
    ┌─────────────────┐
    │ MySQL           │
    │ stock_individual│
    │ _info           │
    └─────────────────┘

┌──────────────┐
│  AkShare API │
└──────┬───────┘
       │
       ▼
┌────────────────────────────────────┐
│ 2. fetch_stock_financial_data()   │ ← 财务数据
│    • 预加载公告日期缓存 (批量)     │
│    • 逐股票获取财务指标            │
│    • 获取真实公告日期              │
│    • 每50只股票批量写入            │
└────────┬───────────────────────────┘
         │ BATCH INSERT
         ▼
    ┌─────────────────┐
    │ MySQL           │
    │ stock_financial │
    │ _data           │
    └─────────────────┘

┌──────────────┐
│  AkShare API │
└──────┬───────┘
       │
       ▼
┌────────────────────────────────────┐
│ 3. fetch_history_market_data()    │ ← 历史行情
│    • 逐股票获取历史K线             │
│    • 计算是否停牌标志              │
│    • 重试机制处理网络错误          │
└────────┬───────────────────────────┘
         │ WRITE (batch)
         ▼
    ┌─────────────────┐
    │ InfluxDB        │
    │ history_kdata   │
    └─────────────────┘
```

---

### 4.2 机器学习数据加载流程

```
┌────────────────────────────────────────────────────────┐
│                DataLoader.load_with_snapshot()         │
└─────────────┬──────────────────────────────────────────┘
              │
              ▼
    ┌─────────────────────┐
    │ 1. 加载ML output     │
    │    特征和目标        │
    └─────────┬───────────┘
              │
              ▼
    ┌─────────────────────────────────┐
    │ 2. MarketDataLoader             │
    │    ┌─────────────────────────┐  │
    │    │ InfluxDB: OHLCV数据     │  │
    │    └──────────┬──────────────┘  │
    │               │                  │
    │    ┌──────────▼──────────────┐  │
    │    │ MySQL: 元数据           │  │
    │    │ • ST标志               │  │
    │    │ • 上市时间              │  │
    │    │ • 总股本                │  │
    │    │ • 计算换手率            │  │
    │    └─────────────────────────┘  │
    └─────────┬───────────────────────┘
              │ 合并
              ▼
    ┌─────────────────────────────────┐
    │ 3. FinancialDataLoader          │
    │    ┌─────────────────────────┐  │
    │    │ MySQL: 财务数据         │  │
    │    └──────────┬──────────────┘  │
    │               │                  │
    │    ┌──────────▼──────────────┐  │
    │    │ PIT 对齐                │  │
    │    │ • 报告期 → 公告日期     │  │
    │    │ • 公告日期 + 90天       │  │
    │    │ • 前向填充到交易日      │  │
    │    └──────────┬──────────────┘  │
    │               │                  │
    │    ┌──────────▼──────────────┐  │
    │    │ 计算财务特征            │  │
    │    │ • 盈利质量              │  │
    │    │ • ROE变化               │  │
    │    │ • 现金流质量            │  │
    │    └─────────────────────────┘  │
    └─────────┬───────────────────────┘
              │ 合并
              ▼
    ┌─────────────────────────────────┐
    │ 4. TradabilityFilter            │
    │    7层过滤:                      │
    │    1️⃣ ST/退市                   │
    │    2️⃣ 停牌                       │
    │    3️⃣ 涨跌停                     │
    │    4️⃣ 上市龄 < 60天             │
    │    5️⃣ 成交量 < 100万            │
    │    6️⃣ 价格 < 1元                │
    │    7️⃣ 换手率 < 0.2%             │
    └─────────┬───────────────────────┘
              │ tradable_flag = 1
              ▼
    ┌─────────────────────────────────┐
    │ 5. PITDataAligner (验证)        │
    │    • 尾部NaN检查                 │
    │    • 时间顺序检查                │
    │    • 特征有效性检查              │
    └─────────┬───────────────────────┘
              │ 验证通过
              ▼
    ┌─────────────────────────────────┐
    │ 6. DataSnapshot                 │
    │    • 创建快照                    │
    │    • 生成元数据                  │
    │    • 数据质量报告                │
    │    • 保存为Parquet/CSV          │
    └─────────────────────────────────┘
```

---

## 5. 核心数据格式

### 5.1 MultiIndex 数据格式

**所有ML数据统一使用MultiIndex [date, ticker]格式**

```python
# 示例结构
                                open    high     low   close   volume  ...
date       ticker                                                       
2022-01-04 000001              15.20   15.50   15.10   15.35  1500000  ...
2022-01-05 000001              15.35   15.80   15.30   15.70  1800000  ...
2022-01-06 000001              15.70   16.00   15.60   15.90  2100000  ...
...
```

**优点:**
- 统一的数据接口
- 支持多股票组合
- 便于时间序列操作
- 符合pandas最佳实践

---

### 5.2 特征数据结构

#### 市场特征 (Market Features)

| 特征组 | 特征名 | 来源 |
|--------|--------|------|
| **价格** | open, high, low, close | InfluxDB |
| **成交** | volume, amount, turnover_rate | InfluxDB + 计算 |
| **变化** | pct_change, amplitude | InfluxDB |
| **元数据** | st_flag, name, list_date, shares_outstanding | MySQL |

#### 财务特征 (Financial Features, 前缀 `fin_`)

| 特征组 | 特征名 | 来源 |
|--------|--------|------|
| **基础指标** | fin_net_profit, fin_revenue, fin_eps | MySQL财务表 |
| **增长率** | fin_net_profit_yoy, fin_revenue_yoy | MySQL财务表 |
| **盈利能力** | fin_roe, fin_net_profit_margin | MySQL财务表 |
| **衍生特征** | fin_profit_quality, fin_cash_earning_quality | 计算得出 |

#### 技术指标 (Technical Indicators)

| 指标类型 | 特征名 | 说明 |
|----------|--------|------|
| **趋势** | sma_5, sma_20, ema_12 | 移动平均线 |
| **动量** | rsi_14, macd, macd_signal | 动量指标 |
| **波动** | bbands_upper, bbands_lower | 布林带 |

---

### 5.3 目标变量格式

| 目标变量 | 类型 | 说明 | 计算方式 |
|----------|------|------|----------|
| future_return_1d | float | 未来1日收益率 | (close_t+1 - close_t) / close_t |
| future_return_5d | float | 未来5日收益率 | (close_t+5 - close_t) / close_t |
| future_return_20d | float | 未来20日收益率 | (close_t+20 - close_t) / close_t |
| label_up | int | 涨跌标签 | 1 if future_return_5d > 0 else 0 |

**PIT 原则:** 目标变量尾部会有NaN（因为未来数据不可知），这是正确的！

---

## 6. PIT数据对齐原则

### 6.1 核心原则

**Point-in-Time (PIT) 原则: 在任何时间点T，只能使用T时刻及之前公开可知的信息**

```
时间轴:
─────────────────────────────────────────────────►
       报告期        公告日期      生效日期    使用时间点
         │             │             │            │
      2023-12-31   2024-03-15   2024-06-13    可以使用
         ↓             ↓             ↓            ↓
      财报期末     公司披露    +90天滞后   特征可用于预测
                                              (2024-06-13及之后)
```

### 6.2 财务数据PIT对齐流程

```python
# 步骤1: 从MySQL获取财务数据（包含真实公告日期）
report_date     announce_date    revenue    profit
2023-12-31      2024-03-15       100M       10M

# 步骤2: 计算生效日期（公告日 + 90天滞后）
report_date     announce_date    effective_date    revenue    profit
2023-12-31      2024-03-15       2024-06-13        100M       10M

# 步骤3: 对齐到交易日历
effective_date  revenue    profit
2024-06-13      100M       10M   ← 第一天可以使用该财务数据
2024-06-14      100M       10M   ← 前向填充
2024-06-17      100M       10M   ← 前向填充（跳过周末）
...
2024-09-30      100M       10M   ← 持续使用直到下一期财务数据生效
```

### 6.3 验证PIT对齐

**检查1: 尾部NaN保留**
```python
# 目标变量的尾部应该有NaN（未来数据不可知）
assert data['future_return_5d'].tail(5).isna().sum() > 0
```

**检查2: 时间顺序**
```python
# 数据应该按时间升序排列
assert data.index.get_level_values('date').is_monotonic_increasing
```

**检查3: 财务数据不提前使用**
```python
# 在公告日之前，财务数据应该是NaN或上一期的值
# 不应该出现"未来的"财务数据
```

---

## 7. 数据质量标准

### 7.1 数据完整性

| 检查项 | 阈值 | 红灯条件 |
|--------|------|----------|
| 缺失率 | < 5% | 任何列 > 20% |
| 重复数据 | < 0.1% | > 1% |
| 时间连续性 | 最大间隔 < 5天 | > 10天 |

### 7.2 可交易样本

| 检查项 | 阈值 | 红灯条件 |
|--------|------|----------|
| 可交易样本比例 | > 80% | < 70% |
| ST股票比例 | < 10% | > 20% |
| 停牌天数 | < 5% | > 10% |

---

## 8. 使用示例

### 8.1 完整数据加载流程

```python
from machine_learning.data.data_loader import DataLoader

# 初始化数据加载器（启用所有功能）
loader = DataLoader(
    data_root="ML output",
    enable_snapshot=True,
    enable_filtering=True,
    enable_pit_alignment=True,
    enable_influxdb=True,
    influxdb_config={
        'url': 'http://localhost:8086',
        'token': 'your_token_here',
        'org': 'stock',
        'bucket': 'stock_kdata'
    }
)

# 加载数据并创建快照
features, targets, snapshot_id = loader.load_with_snapshot(
    symbol='000001',
    start_date='2022-01-01',
    end_date='2024-12-31',
    target_col='future_return_5d',
    use_scaled=True,
    filters={
        'min_volume': 1000000,
        'min_price': 1.0,
        'exclude_st': True
    },
    random_seed=42
)

print(f"特征数量: {len(features.columns)}")
print(f"样本数量: {len(features)}")
print(f"快照ID: {snapshot_id}")
```

### 8.2 从快照加载数据

```python
# 加载已保存的快照
features, targets = loader.load_from_snapshot('ds_2025Q4_v1')
```

---

## 9. 常见问题

### Q1: 为什么财务数据要滞后90天？

**A:** 遵循PIT原则。即使公司公布财务报表，投资者也需要时间消化信息并做出交易决策。90天的滞后期确保：
1. 信息已充分传播
2. 市场已反应
3. 避免"未来信息泄漏"

### Q2: 为什么目标变量尾部有NaN？

**A:** 这是正确的！因为我们无法知道未来的收益率。如果尾部没有NaN，说明可能存在数据泄漏。

### Q3: ST股票为什么要单独过滤？

**A:** ST股票有特殊的涨跌停限制（±5%），交易风险高，且容易退市。单独过滤确保策略稳健性。

### Q4: 换手率如何计算？

**A:** `换手率 = 成交量 / 总股本`。需要从MySQL获取总股本数据。

---

## 10. 更新日志

### v2.0 (2025-11-05)

**新增:**
- ✅ MySQL财务表添加真实`公告日期`字段
- ✅ InfluxDB添加`是否停牌`字段
- ✅ 财务数据批量获取与写入（每50只股票批量）
- ✅ MarketDataLoader集成元数据（ST、上市时间、总股本）
- ✅ FinancialDataLoader使用真实公告日期
- ✅ DataLoader集成财务数据加载和PIT对齐
- ✅ 完整的7层交易可行性过滤

**优化:**
- ✅ 数据库字段类型从DECIMAL改为DOUBLE（避免越界）
- ✅ 预加载公告日期缓存（减少网络请求）
- ✅ 批量写入数据库（提升10-20倍性能）

---

## 附录

### A. 数据库连接配置

**InfluxDB:**
```python
url = "http://localhost:8086"
token = "your_influxdb_token"
org = "stock"
bucket = "stock_kdata"
```

**MySQL:**
```python
host = "localhost"
port = 3306
user = "root"
password = "123456"
database = "stock_meta"
```

### B. 依赖包版本

```
pandas >= 1.5.0
numpy >= 1.24.0
akshare >= 1.12.0
influxdb-client >= 1.36.0
pymysql >= 1.1.0
sqlalchemy >= 2.0.0
pyarrow >= 10.0.0  # 用于Parquet
```

---

**文档维护者:** AI Assistant  
**最后更新:** 2025-11-05  
**版本:** v2.0
